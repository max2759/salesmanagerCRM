<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:fxs="http://java.sun.com/jsf/composite/composantsFxs"
                xmlns:p="http://primefaces.org/ui"
                template="../WEB-INF/templates/template.xhtml">

    <ui:define name="title">#{bundle['menu.dashboard']}</ui:define>

    <ui:define name="head">
        <script type="text/javascript">

            //<![CDATA[
            function skinBar() {
                this.cfg.shadow = false;
                this.cfg.title = '';
                this.cfg.seriesColors = ['#64B5F6', '#FFD54F'];
                this.cfg.grid = {
                    background: '#ffffff',
                    borderColor: '#ffffff',
                    gridLineColor: '#F5F5F5',
                    shadow: false
                };
                this.cfg.axesDefaults = {
                    borderWidth: 0.1,
                    borderColor: 'bdbdbd',
                    rendererOptions: {
                        textColor: '#666F77'
                    }
                };
                this.cfg.seriesDefaults = {
                    shadow: false,
                    lineWidth: 1,
                    renderer: $.jqplot.BarRenderer,
                    markerOptions: {
                        shadow: false,
                        size: 7,
                        style: 'circle'
                    }
                };
            }

            //]]>
        </script>
        <style type="text/css">
            .main-content {
                padding: 0;
            }
        </style>
    </ui:define>

    <ui:define name="content">

        <f:metadata>
            <f:viewAction action="#{companiesBean.countActiveCompaniesEntity}"/>
            <f:viewAction action="#{companiesBean.countAllCompaniesEntity}"/>
            <f:viewAction action="#{contactsBean.countActiveContactsEntity}"/>
            <f:viewAction action="#{transactionsBean.countActiveTransactionsEntity}"/>
            <f:viewAction action="#{transactionsBean.calculPercentTransactionConclueAnnule}"/>
            <f:viewAction action="#{vouchersBean.countActiveVouchersEntity}"/>
            <f:viewAction action="#{vouchersBean.calculPercentVouchers}"/>
            <f:viewAction action="#{conversationsBean.get10convers}"/>
            <f:viewAction action="#{tasksBean.listEntities}"/>
            <f:viewAction action="#{tasksBean.setCalendar}"/>
            <f:viewAction action="#{tasksBean.listEntitiesDueToday}"/>
        </f:metadata>


        <div class="ui-g dashboard">
            <div class="ui-g-12 ui-md-6 ui-lg-3">
                <div class="ui-g card overview-box overview-box-1">
                    <span class="overview-box-name">#{bundle['company.numberActiveCompany']}</span>
                    <span class="overview-box-count">#{companiesBean.countActiveCompanies}</span>
                    <h:outputText class="overview-box-badge"
                                  value="#{companiesBean.countActiveCompanies/companiesBean.countAllCompanies}">
                        <f:convertNumber type="percent"
                                         maxIntegerDigits="5"
                                         maxFractionDigits="0"/>
                    </h:outputText>
                    <p:graphicImage name="images/dashboard/chart-1.svg" library="barcelona-layout"/>
                </div>
            </div>
            <div class="ui-g-12 ui-md-6 ui-lg-3">
                <div class="ui-g card overview-box overview-box-2">
                    <span class="overview-box-name">#{bundle['contacts.numberActiveContacts']}</span>
                    <span class="overview-box-count">#{contactsBean.countActiveContacts}</span>
                    <span class="overview-box-badge">+45%</span>
                    <p:graphicImage name="images/dashboard/chart-2.svg" library="barcelona-layout"/>
                </div>
            </div>
            <div class="ui-g-12 ui-md-6 ui-lg-3">
                <div class="ui-g card overview-box overview-box-3">
                    <span class="overview-box-name">#{bundle['transaction.numberActiveTransactions']}</span>
                    <span class="overview-box-count">#{transactionsBean.countActiveTransactions}</span>
                    <span class="overview-box-badge">
                        <h:outputText id="focusTransaction"
                                      value="#{transactionsBean.percentActiveTransactionsByPhase}">
                            <f:convertNumber maxFractionDigits="2" maxIntegerDigits="4" type="percent"/>
                        </h:outputText>
                       <p:tooltip for="focusTransaction" value="#{bundle['transaction.percentConclueAnnule']}"
                                  showEffect="clip"
                                  hideEffect="fold" position="bottom"/>
                    </span>
                    <p:graphicImage name="images/dashboard/chart-3.svg" library="barcelona-layout"/>
                </div>
            </div>
            <div class="ui-g-12 ui-md-6 ui-lg-3">
                <div class="ui-g card overview-box overview-box-4">
                    <span class="overview-box-name">#{bundle['vouchers.numberActiveVouchers']}</span>
                    <span class="overview-box-count">#{vouchersBean.countActiveVouchers}</span>
                    <span class="overview-box-badge">
                        <h:outputText id="focusVoucher" value="#{vouchersBean.percentActiveVouchersByStatus}">
                            <f:convertNumber maxFractionDigits="2" maxIntegerDigits="4" type="percent"/>
                        </h:outputText>
                       <p:tooltip for="focusVoucher" value="#{bundle['vouchers.percent']}"
                                  showEffect="clip"
                                  hideEffect="fold" position="bottom"/>
                    </span>
                    <p:graphicImage name="images/dashboard/chart-4.svg" library="barcelona-layout"/>
                </div>
            </div>

            <div class="ui-g-12 ui-lg-4">
                <div class="user-card ui-shadow-content taskDashboard">
                    <div class="user-card-header">
                        <p:graphicImage name="images/dashboard/user-card-header.png" library="barcelona-layout"/>
                    </div>
                    <div class="user-card-content taskDashboard">

                        <div class="user-card-name">
                            <span>#{usersBean.usersEntity.firstname} #{usersBean.usersEntity.lastname}</span>

                        </div>
                        <div class="user-card-name">
                            <span>#{bundle['tasks.tasksDueToday']}</span>
                        </div>

                        <div class="user-detail">
                            <fxs:dashboardTaskToDay id="dashboardTaskToDay"/>
                        </div>
                    </div>
                </div>
            </div>

            <div class="ui-g-12 ui-lg-8 chat">
                <fxs:conversation id="conversation"/>
            </div>


            <div class="ui-g-12 ui-md-6 ui-lg-4 task-list">
                <p:panel header="Tasks" styleClass="ui-shadow-content ">
                    <ul>
                        <li>
                            <p:selectBooleanCheckbox/>
                            <span class="task-name">Sales Reports</span>
                            <i class="fa fa-fw fa-briefcase"></i>
                        </li>
                        <li>
                            <p:selectBooleanCheckbox/>
                            <span class="task-name">Pay Invoices</span>
                            <i class="fa fa-fw fa-credit-card"></i>
                        </li>
                        <li>
                            <p:selectBooleanCheckbox/>
                            <span class="task-name">Dinner with Tony</span>
                            <i class="fa fa-fw fa-cutlery"></i>
                        </li>
                        <li>
                            <p:selectBooleanCheckbox/>
                            <span class="task-name">Client Meeting</span>
                            <i class="fa fa-fw fa-user"></i>
                        </li>
                        <li>
                            <p:selectBooleanCheckbox/>
                            <span class="task-name">New Theme</span>
                            <i class="fa fa-fw fa-paint-brush"></i>
                        </li>
                        <li>
                            <p:selectBooleanCheckbox/>
                            <span class="task-name">Flight Ticket</span>
                            <i class="fa fa-fw fa-fighter-jet"></i>
                        </li>
                        <li>
                            <p:selectBooleanCheckbox/>
                            <span class="task-name">Generate Charts</span>
                            <i class="fa fa-fw fa-area-chart"></i>
                        </li>
                        <li>
                            <p:selectBooleanCheckbox/>
                            <span class="task-name">Call Client</span>
                            <i class="fa fa-fw fa-phone"></i>
                        </li>
                    </ul>
                </p:panel>
            </div>
            <div class="ui-g-12 ui-md-6 ui-lg-4 ui-fluid contact-form">
                <p:panel header="Contact Us" style="min-height:360px" styleClass="ui-shadow-content">
                    <div class="ui-g">
                        <div class="ui-g-12">
                            <p:selectOneMenu id="console" value="#{selectOneMenuView.console}" autoWidth="false">
                                <f:selectItem itemLabel="Select One" itemValue=""/>
                                <f:selectItem itemLabel="Xbox One" itemValue="Xbox One"/>
                                <f:selectItem itemLabel="PS4" itemValue="PS4"/>
                                <f:selectItem itemLabel="Wii U" itemValue="Wii U"/>
                            </p:selectOneMenu>
                        </div>
                        <div class="ui-g-12">
                            <h:panelGroup styleClass="md-inputfield">
                                <p:inputText/>
                                <label>Name</label>
                            </h:panelGroup>
                        </div>
                        <div class="ui-g-12">
                            <h:panelGroup styleClass="md-inputfield">
                                <p:inputText/>
                                <label>Age</label>
                            </h:panelGroup>
                        </div>
                        <div class="ui-g-12">
                            <h:panelGroup styleClass="md-inputfield">
                                <p:inputText/>
                                <label>Message</label>
                            </h:panelGroup>
                        </div>
                    </div>
                    <p:commandButton type="button" value="Send" icon="ui-icon-send"></p:commandButton>
                </p:panel>
            </div>
            <div class="ui-g-12 ui-lg-4 contacts">
                <p:panel header="Contacts" style="min-height:360px" styleClass="ui-shadow-content">
                    <ul>
                        <li class="clearfix">
                            <p:graphicImage name="images/profile-image.png" library="barcelona-layout" width="45"/>
                            <div class="contact-info">
                                <span class="name">Jane White (me)</span>
                                <span class="location">jane@pf-barcelona.com</span>
                            </div>
                            <div class="contact-actions">
                                <span class="connection-status online">online</span>
                                <i class="fa fa-paper-plane-o"></i>
                                <i class="fa fa-phone"></i>
                            </div>
                        </li>
                        <li class="clearfix">
                            <p:graphicImage name="images/avatar1.png" library="barcelona-layout" width="45"/>
                            <div class="contact-info">
                                <span class="name">Joshua Williams</span>
                                <span class="location">joshua@pf-barcelona.com</span>
                            </div>
                            <div class="contact-actions">
                                <span class="connection-status online">online</span>
                                <i class="fa fa-paper-plane-o"></i>
                                <i class="fa fa-phone"></i>
                            </div>
                        </li>
                        <li class="clearfix">
                            <p:graphicImage name="images/avatar2.png" library="barcelona-layout" width="45"/>
                            <div class="contact-info">
                                <span class="name">Emily Clark</span>
                                <span class="location">emily@pf-barcelona.com</span>
                            </div>
                            <div class="contact-actions">
                                <span class="connection-status offline">offline</span>
                                <i class="fa fa-paper-plane-o"></i>
                                <i class="fa fa-phone"></i>
                            </div>
                        </li>
                        <li class="clearfix">
                            <p:graphicImage name="images/avatar3.png" library="barcelona-layout" width="45"/>
                            <div class="contact-info">
                                <span class="name">Tim Johnson</span>
                                <span class="location">tim@pf-barcelona.com</span>
                            </div>
                            <div class="contact-actions">
                                <span class="connection-status online">online</span>
                                <i class="fa fa-paper-plane-o"></i>
                                <i class="fa fa-phone"></i>
                            </div>
                        </li>
                        <li class="clearfix">
                            <p:graphicImage name="images/avatar4.png" library="barcelona-layout" width="45"/>
                            <div class="contact-info">
                                <span class="name">David Stark</span>
                                <span class="location">kelly@pf-barcelona.com</span>
                            </div>
                            <div class="contact-actions">
                                <span class="connection-status offline">offline</span>
                                <i class="fa fa-paper-plane-o"></i>
                                <i class="fa fa-phone"></i>
                            </div>
                        </li>
                    </ul>
                </p:panel>
            </div>

            <div class="ui-g-12 ui-md-4">
                <div class="card timeline ui-fluid">
                    <div class="ui-g">
                        <div class="ui-g-3">
                            <span class="event-time">just now</span>
                            <i class="material-icons" style="color:#009688">&#xE1BC;</i>
                        </div>
                        <div class="ui-g-9">
                            <span class="event-owner" style="color:#009688">Katherine May</span>
                            <span class="event-text">Lorem ipsun dolor amet</span>
                            <div class="event-content">
                                <p:graphicImage name="images/dashboard/bridge.png" library="barcelona-layout"/>
                            </div>
                        </div>

                        <div class="ui-g-3">
                            <span class="event-time">12h ago</span>
                            <i class="material-icons" style="color:#E91E63">&#xE885;</i>
                        </div>
                        <div class="ui-g-9">
                            <span class="event-owner" style="color:#E91E63">Brandon Santos</span>
                            <span class="event-text">Ab nobis, magnam sunt eum. Laudantium, repudiandae, similique!.</span>
                        </div>

                        <div class="ui-g-3">
                            <span class="event-time">15h ago</span>
                            <i class="material-icons" style="color:#9c27b0">&#xE0C9;</i>
                        </div>
                        <div class="ui-g-9">
                            <span class="event-owner" style="color:#9c27b0">Stephan Ward</span>
                            <span class="event-text">Omnis veniam quibusdam ratione est repellat qui nam quisquam ab mollitia dolores ullam voluptates, similique, dignissimos.</span>
                        </div>

                        <div class="ui-g-3">
                            <span class="event-time">2d ago</span>
                            <i class="material-icons" style="color:#ff9800">&#xE0C8;</i>
                        </div>
                        <div class="ui-g-9">
                            <span class="event-owner" style="color:#ff9800">Jason Smith</span>
                            <span class="event-text">Laudantium, repudiandae, similique!</span>
                            <div class="event-content">
                                <p:graphicImage name="images/dashboard/map.png" library="barcelona-layout"/>
                            </div>
                        </div>

                        <div class="ui-g-3">
                            <span class="event-time">1w ago</span>
                            <i class="material-icons" style="color:#607d8b">&#xE91B;</i>
                        </div>
                        <div class="ui-g-9">
                            <span class="event-owner">Kevin Cox</span>
                            <span class="event-text">Quibusdam ratione est repellat qui nam quisquam veniam quibusdam ratione.</span>
                        </div>

                        <div class="ui-g-3">
                            <span class="event-time">2w ago</span>
                            <i class="material-icons" style="color:#FFC107">&#xE23A;</i>
                        </div>
                        <div class="ui-g-9">
                            <span class="event-owner" style="color:#FFC107">Walter White</span>
                            <span class="event-text">I am the one who knocks!</span>
                        </div>

                        <div class="ui-g-12">
                            <p:commandButton type="button" value="Refresh" icon="ui-icon-refresh"/>
                        </div>
                    </div>
                </div>
            </div>

            <div class="ui-g-12 ui-md-8">
                <div class="card">
                    <h:form>
                        <p:dataTable var="car" value="#{dtBasicView.cars}" selectionMode="single" rowKey="#{car.id}"
                                     reflow="true" style="margin-bottom:20px">
                            <f:facet name="header">Recent Sales</f:facet>
                            <p:column headerText="Id" sortBy="#{car.id}">
                                <h:outputText value="#{car.id}"/>
                            </p:column>

                            <p:column headerText="Year" sortBy="#{car.year}">
                                <h:outputText value="#{car.year}"/>
                            </p:column>

                            <p:column headerText="Brand" sortBy="#{car.brand}">
                                <h:outputText value="#{car.brand}"/>
                            </p:column>

                            <p:column headerText="Color" sortBy="#{car.color}">
                                <h:outputText value="#{car.color}"/>
                            </p:column>
                        </p:dataTable>

                        <p:panel header="Sales Graph" styleClass="chart-panel">
                            <p:chart type="bar" model="#{chartDemoView.barModel}" responsive="true"/>
                        </p:panel>
                    </h:form>
                </div>
            </div>

            <div class="ui-g-12 ui-md-8">
                <fxs:dashboardComp1 id="dashboardComp1"/>
            </div>
            <div class="ui-g-12 ui-md-4">
                <p:panel header="Activity" style="height:100%" class="ui-shadow-content ">
                    <div class="activity-header">
                        <div class="ui-g">
                            <div class="ui-g-6">
                                <span style="font-weight:bold">Last Activity</span>
                                <p>Updated 1 minute ago</p>
                            </div>
                            <div class="ui-g-6" style="text-align:right">
                                <p:commandButton type="button" icon="fa fa-refresh"/>
                            </div>
                        </div>
                    </div>
                    <ul class="activity-list">
                        <li>
                            <div class="count">$900</div>
                            <div class="ui-g">
                                <div class="ui-g-6">Income</div>
                                <div class="ui-g-6">95%</div>
                            </div>
                        </li>
                        <li>
                            <div class="count" style="background-color:#e91e63">$250</div>
                            <div class="ui-g">
                                <div class="ui-g-6">Tax</div>
                                <div class="ui-g-6">24%</div>
                            </div>
                        </li>
                        <li>
                            <div class="count" style="background-color:#673ab7">$125</div>
                            <div class="ui-g">
                                <div class="ui-g-6">Invoices</div>
                                <div class="ui-g-6">55%</div>
                            </div>
                        </li>
                        <li>
                            <div class="count" style="background-color:#00796b">$250</div>
                            <div class="ui-g">
                                <div class="ui-g-6">Expenses</div>
                                <div class="ui-g-6">15%</div>
                            </div>
                        </li>
                        <li>
                            <div class="count" style="background-color:#3f51b5">$350</div>
                            <div class="ui-g">
                                <div class="ui-g-6">Bonus</div>
                                <div class="ui-g-6">5%</div>
                            </div>
                        </li>
                        <li>
                            <div class="count" style="background-color:#e91e63">$500</div>
                            <div class="ui-g">
                                <div class="ui-g-6">Revenue</div>
                                <div class="ui-g-6">25%</div>
                            </div>
                        </li>
                    </ul>
                </p:panel>
            </div>
        </div>
    </ui:define>
</ui:composition>